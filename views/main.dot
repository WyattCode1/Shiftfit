<!DOCTYPE html>
<html lang="en">
    <head>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

        <meta name="viewport" content="width=device-width">

        <!-- Favicon -->
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">

        <!-- Stylesheets -->

        <!-- jQuery -->
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script type="text/javascript" src="https://code.jquery.com/ui/1.8.20/jquery-ui.min.js"></script>
        <link rel="stylesheet" href="https://jqueryui.com/resources/demos/style.css">
        <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">

        <script type="text/javascript" src="/assets/impromptu/jquery-impromptu.min.js"></script>
		<script type="text/javascript" src="/assets/js/jquery.dropotron.min.js"></script>
		<script type="text/javascript" src="/assets/js/jquery.scrollgress.min.js"></script>
		<script type="text/javascript" src="/assets/js/skel.min.js"></script>
		<script type="text/javascript" src="/assets/js/util.js"></script>
        <script type="text/javascript" src="/assets/js/main.js"></script>
        <script type="text/javascript" src="/assets/js/shiftfit.js"></script>

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <!--[if lte IE 8]><script src="/assets/js/ie/html5shiv.js"></script><![endif]-->
        <link rel="stylesheet" href="/assets/css/main.css" />
        <!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->

        <link rel="stylesheet" type="text/css" href="/assets/css/table/normalize.css" />
        <link rel="stylesheet" type="text/css" href="/assets/css/table/demo.css" />
        <link rel="stylesheet" type="text/css" href="/assets/css/table/component.css" />
        <link rel="stylesheet" type="text/css" href="/assets/impromptu/jquery-impromptu.min.css" />
        <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <!--[if IE 7]>
        <link rel="stylesheet" href="css/ie7.css" type="text/css">
        <![endif]-->

    </head><!--/head-->
    <body class="landing">
	    <div id="intercom-success-div" class="m-notification notification-success" style="display:none;">
	        <h3>
	            <label id="intercom-success-label" class="intercom-success-message"> </label>
	        </h3>
	        <a id="intercom-success-close-anchor" class="notification-close" onclick="$('#intercom-success-div').hide()"> </a>
	    </div>
	    <div id="general-error-div" class="m-notification notification-error" style="display:none;">
	        <h3>
	            <label id="general-error-label" class="general-error-message"> </label>
	        </h3>
	        <a id="general-error-close-anchor" class="notification-close" onclick="$('#general-error-div').hide()"> </a>
	    </div>
        <div id="page-wrapper">
            {{=it.body}}
        </div>
    </body>
    <script>
    	function show_error_messages(errors) {
            var msg = '';
            var count = 0;
            console.info('ERRORS: ' + JSON.stringify(errors));
            $.each(errors, function (index, error) {
                $("#"+error.param).addClass("required");
                count = count+1;
                msg = msg + error.msg;
                if ((count < errors.length) && (error.msg.length > 0)) {
                    msg = msg + ' - ';
                } else {
                    $("#"+error.type+"-error-label").html(msg);
                    $("#"+error.type+"-error-div").show();
                }
            });
            $('html, body').animate({scrollTop: 0}, 'fast');
        }
        function clean_error_messages(fields) {
        	if (fields) {
	            $.each(fields, function (index, field) {
	                $('#'+field).removeClass('required');
	            });
        	}
            $('#general-error-div').hide();
        }
        $.ajaxSetup({complete: onRequestCompleted});
        function onRequestCompleted(xhr,textStatus) {
            if (xhr.status == 302) {
                location.href = xhr.getResponseHeader("Location");
            }
        }
    </script>
</html>